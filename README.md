# 前端逐帧动画

实现逐帧动画需要两个条件：（1）动画帧；（2）连续播放。



## gif
### 优点:
成本较低、使用方便

### 缺点：

- 画质上，gif 支持颜色少(最大256色)、Alpha 透明度支持差，图像锯齿毛边比较严重
- 交互上，不能直接控制播放、暂停、播放次数，灵活性差；
- 性能上，gif 会引起页面周期性的 paint ，性能较差。

## CSS3 Animation
对CSS3 Animation，
相信大家都不陌生了，其有八大属性：

- `animation-name`: 动画名称
- `animation-duration`: 规定完成一个周期所花费的时间
- `animation-delay`: 定义动画开始前等待的时间
- `animation-iteration-count`: 规定动画被播放的次数（默认1)
- `animation-play-state`: 规定动画是否正在运行或停止
- `animation-fill-mode`: 规定动画结束时的状态
- `animation-timing-function`: 规定动画的速度曲线（默认是ease）
- `animation-direction`: 规定动画是否在下一个周期逆向地播放(默认是"normal")


## animation-timing-function中的step()函数
animation的工作原理是通过将元素的CSS样式从一个状态改变为另一个状态（我们称为线性变化）
默认情况下，它以ease方式（速度逐渐放慢）过渡，它会在每个关键帧之间插入补间动画，所以动画效果是连贯性的，
但有些时候，我们不需要这种过渡效果，而是想实现跳跃式的效果，这时，steps()函数就出现了.

`steps()是一个阶跃函数，用于把整个操作领域切分为相同大小的间隔，每个间隔都是相等的。`
```
steps(number, [start | end])
```
参数说明:
- `number`参数指定了时间函数中的间隔数量（必须是正整数）
- 第二个参数是可选的，可设值：`start`和`end`，表示在每个间隔的起点或是终点发生阶跃变化，如果忽略，默认是end.

注意：第二个参数还有两个内置值，step-start等同于steps(1,start)，动画分成1步，动画执行时以左侧端点为开始；step-end等同于steps(1,end)：动画分成1步，动画执行时以结尾端点为开始。

#### 横轴表示时间，纵轴表示动画完成度（也就是0%~100%）
![STEP](./images/t_step.png)

- 第一个图，steps(1, start)将动画分为1段，跳跃点为start，也就是说动画在每个周期的起点发生阶跃（即图中的空心圆 → 实心圆）。由于只有一段，后续就不再发生动画了。

- 第二个图，steps(1, end)同样是将动画分为1段，但跳跃点是end，也就是动画在每个周期的终点发生阶跃，也是图中的空心圆 → 实心圆，但注意时间，是在终点才发生动画。

- 第三个图，steps(3, start)将动画分为三段，跳跃点为start，动画在每个周期的起点发生阶跃（即图中的空心圆 → 实心圆）。在这里，由于动画的第一次阶跃是在第一阶段的起点处（0s），所以我们看到的动画的初始状态其实已经是 1/3 的状态，因此我们看到的动画的过程为 1/3 → 2/3 → 1 。

- 第四个图，steps(3, end)也是将动画分为三段，但跳跃点为end，动画在每个周期的终点发生阶跃（即图中的空心圆 → 实心圆）。虽然动画的状态最终会到达100%，但是动画已经结束，所以100%的状态是看不到的，因此我们最终看到的动画的过程是0 → 1/3 → 2/3

